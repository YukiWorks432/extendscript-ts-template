## 共通設定

- 日本語で回答してください
- 簡潔で分かりやすい説明を心がけてください
- ベストプラクティスの具体例を提示してください

## コードレビュー専用指示

### レビューの基本方針

以下のプレフィックスを使用してレビューコメントを分類してください：

- `[must]` - 必須修正項目（セキュリティ、バグ、重大な設計問題）
- `[recommend]` - 推奨修正項目（パフォーマンス、可読性の大幅改善）
- `[nits]` - 軽微な指摘（コードスタイル、タイポ等）

### 重点チェック項目

3. **可読性**: 変数名、関数名、コメントの適切性
4. **保守性**: DRY 原則、SOLID 原則の遵守
5. **言語固有のベストプラクティス**: 各言語の推奨パターンに準拠しているか、非推奨・廃止予定の API や構文を使用していないかチェック

### 各コマンド

- `pnpm build`: プロジェクトのビルドが成功するか確認してください。
- `pnpm lint`: コードがリンターのルールに準拠しているか確認してください。

## ExtendScript 特有の仕様

以下は ExtendScript に特有のコードレビュー指示です：

### ExtendScript の制約

ExtendScriptはES3ベースであり、src 以下の.tsコードはES3にトランスパイルされます。
`tsconfig.json` の `target` は `es3` に設定してください。変更を提案しないでください。
ES3でも使用できるように各種polyfillを導入していますが、一部コードは使用できない可能性があります。
ES3へトランスパイルされる際のプロンプト警告は無視してください。

### ウィンドウを作成する場合

- Yes/Noやユーザーに入力を求めるダイアログを作成する際は、new Window() コンストラクタを使用してください。例えば：

```javascript
const dialog = new Window("dialog", "サンプルダイアログ");
dialog.add("statictext", undefined, "これはサンプルダイアログです。");
dialog.add("button", undefined, "OK");
dialog.add("button", undefined, "Cancel");

// ユーザーがキャンセルした場合は処理を中断
if (dialog.show() !== 1) return;
```
